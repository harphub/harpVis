<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="plot_point_verif is used to plot verification scores computed by
functions from the harpPoint package. The function uses non standard
evaluation (NSE) meaning that none of the arguments should be quoted. For
arguments that can take more than one value, (facet_by and
filter_by), the arguments should be wrapped inside the
vars function."><title>Plot verification scores — plot_point_verif • harpVis</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot verification scores — plot_point_verif"><meta property="og:description" content="plot_point_verif is used to plot verification scores computed by
functions from the harpPoint package. The function uses non standard
evaluation (NSE) meaning that none of the arguments should be quoted. For
arguments that can take more than one value, (facet_by and
filter_by), the arguments should be wrapped inside the
vars function."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">harpVis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/harphub/harpVis/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Plot verification scores</h1>
      <small class="dont-index">Source: <a href="https://github.com/harphub/harpVis/blob/HEAD/R/plot_point_verif.R" class="external-link"><code>R/plot_point_verif.R</code></a></small>
      <div class="d-none name"><code>plot_point_verif.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>plot_point_verif</code> is used to plot verification scores computed by
functions from the harpPoint package. The function uses non standard
evaluation (NSE) meaning that none of the arguments should be quoted. For
arguments that can take more than one value, (<code>facet_by</code> and
<code>filter_by</code>), the arguments should be wrapped inside the
<a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a> function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_point_verif</span><span class="op">(</span></span>
<span>  <span class="va">verif_data</span>,</span>
<span>  <span class="va">score</span>,</span>
<span>  verif_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ens"</span>, <span class="st">"det"</span><span class="op">)</span>,</span>
<span>  x_axis <span class="op">=</span> <span class="va">lead_time</span>,</span>
<span>  y_axis <span class="op">=</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/enquo.html" class="external-link">enquo</a></span><span class="op">(</span><span class="va">score</span><span class="op">)</span>,</span>
<span>  rank_is_relative <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rank_hist_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bar"</span>, <span class="st">"lollipop"</span>, <span class="st">"line"</span><span class="op">)</span>,</span>
<span>  colour_by <span class="op">=</span> <span class="va">fcst_model</span>,</span>
<span>  colour_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hex_palette <span class="op">=</span> <span class="fu">viridisLite</span><span class="fu">::</span><span class="fu"><a href="https://sjmgarnier.github.io/viridisLite/reference/viridis.html" class="external-link">plasma</a></span><span class="op">(</span><span class="fl">256</span><span class="op">)</span>,</span>
<span>  hex_colour <span class="op">=</span> <span class="st">"grey20"</span>,</span>
<span>  extend_y_to_zero <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_num_cases <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  extend_num_cases_to_zero <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  num_cases_position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"below"</span>, <span class="st">"right"</span>, <span class="st">"above"</span>, <span class="st">"left"</span><span class="op">)</span>,</span>
<span>  facet_by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  num_facet_cols <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  facet_scales <span class="op">=</span> <span class="st">"fixed"</span>,</span>
<span>  facet_labeller <span class="op">=</span> <span class="st">"label_value"</span>,</span>
<span>  linetype_by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  line_width <span class="op">=</span> <span class="fl">1.1</span>,</span>
<span>  point_size <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  filter_by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  plot_title <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  plot_subtitle <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  plot_caption <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  x_label <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  legend_position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>  num_legend_rows <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  log_scale_x <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  log_scale_y <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  flip_axes <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  colour_theme <span class="op">=</span> <span class="st">"bw"</span>,</span>
<span>  base_size <span class="op">=</span> <span class="fl">11</span>,</span>
<span>  base_family <span class="op">=</span> <span class="st">""</span>,</span>
<span>  base_line_size <span class="op">=</span> <span class="va">base_size</span><span class="op">/</span><span class="fl">22</span>,</span>
<span>  base_rect_size <span class="op">=</span> <span class="va">base_size</span><span class="op">/</span><span class="fl">22</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>verif_data</dt>
<dd><p>Output from ens_verif,
det_verif, or a harpPoint verification function for
individual scores.</p></dd>


<dt>score</dt>
<dd><p>The score to plot. Should be the name of one of the columns in
the verification tables or the name of a dervived score, such as
<code>spread_skill</code>, <code>spread_skill_ratio</code>, or
<code>brier_score_decomposition</code>.</p></dd>


<dt>verif_type</dt>
<dd><p>The type of verification to plot for ensemble verification
data. The default is "ens", but set to "det" to plot verification scores
for members. If set to "det", you should also set colour_by = member.</p></dd>


<dt>x_axis</dt>
<dd><p>The x-axis for the plot. The default is lead_time, but could
also be threshold. For some scores this is overrided. Note that leadtime
will be treated exactly the same as lead_time for compatibility with older
versions.</p></dd>


<dt>y_axis</dt>
<dd><p>The y-axis for the plot. The default is to take the same as the
score input, and for most scores this is overrided.</p></dd>


<dt>rank_is_relative</dt>
<dd><p>Logical. If TRUE rank histograms are plotted with the
relative rank (between 0 and 1) on the x-axis. The default is FALSE.</p></dd>


<dt>rank_hist_type</dt>
<dd><p>For rank histograms, the plot can be done as a bar
chart, lollipop chart or a line chart.</p></dd>


<dt>colour_by</dt>
<dd><p>The column to colour the plot lines or bars by. The default
is <code>fcst_model</code>, for the model name. Set to NULL for all lines / bars to
have the same colour.</p></dd>


<dt>colour_table</dt>
<dd><p>A data frame with column names equal to the value of
<code>colour_by</code> and "colour". The colour column should contain colour
names or hex codes. There should be one row for each value in the
<code>colour_by</code> column. If set to NULL, the default colour table is used.</p></dd>


<dt>hex_palette</dt>
<dd><p>The colour palette to use for <code>hexbin</code>. This should be a
vector of colours. The default is <a href="https://sjmgarnier.github.io/viridisLite/reference/viridis.html" class="external-link">plasma</a>.</p></dd>


<dt>hex_colour</dt>
<dd><p>The outline colour of hexagons for hexbin plots. The
default is "grey20".</p></dd>


<dt>extend_y_to_zero</dt>
<dd><p>Logical. Whether to extend the y-axis to include
zero.</p></dd>


<dt>plot_num_cases</dt>
<dd><p>Logical of whether to inlcude the number of cases as a
panel in the plot. Only currently works for summary scores, and if
<code>facet_by</code> is set, the number of cases panel is not drawn since it
will clutter the plot.</p></dd>


<dt>extend_num_cases_to_zero</dt>
<dd><p>Logical of whether to extend the axis for the
number of cases to zero. The default behaviour (FALSE) is to have the axis
limits set to the minimum and maximum number of cases.</p></dd>


<dt>num_cases_position</dt>
<dd><p>The position of the number of cases panel relative
to the score panel. Can be "below" (the default), "above", "left", or
"right". Typically only "below" and "above" will work unless plotting
vertical profile scores with <a href="plot_profile_verif.html">plot_profile_verif</a>, where only "left"
and "right" can be chosen.</p></dd>


<dt>facet_by</dt>
<dd><p>The column(s) to facet the plot by. Faceting is a term used
for generating plot panels. The argument must be wrapped inside the
<a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a> function - e.g. <code>facet_by = vars(threshold)</code>.</p></dd>


<dt>num_facet_cols</dt>
<dd><p>Number of columns in the faceted plot.</p></dd>


<dt>facet_scales</dt>
<dd><p>Should facet scales be fixed ("fixed", the default), free
("free"), or free in one dimension ("free_x", "free_y")?</p></dd>


<dt>facet_labeller</dt>
<dd><p>The function used to label the title strip. Typically
this will always be "label_value", but if the column used for
<code>facet_by</code> contains plotmath expressions, "label_parsed" should be
used. See <a href="https://ggplot2.tidyverse.org/reference/labellers.html" class="external-link">labellers</a> for more information.</p></dd>


<dt>linetype_by</dt>
<dd><p>The column to set the line types of the plot by.</p></dd>


<dt>line_width</dt>
<dd><p>The width of lines to plot. The default is 1.1.</p></dd>


<dt>point_size</dt>
<dd><p>The size of points to plot. Set to 0 for no points. The
default is 2.</p></dd>


<dt>filter_by</dt>
<dd><p>Filter the data before plotting. Must be wrapped inside the
<a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a> function. This can be useful for making a single plot
where there are many groups. For example, for reliability there should be
one plot for each lead time and threshold, so the data can be filtered with
e.g. <code>filter_by = vars(lead_time == 12, threshold == 280)</code>.</p></dd>


<dt>plot_title</dt>
<dd><p>Title for the plot. Set to "auto" to automatically generate
the title. Set to "none" for no title. Anything else inside quotes will be
used as the plot title.</p></dd>


<dt>plot_subtitle</dt>
<dd><p>Subtitle for the plot. Set to "auto" to automatically
generate the subtitle. Set to "none" for no subtitle. Anything else inside
quotes will be used as the plot subtitle.</p></dd>


<dt>plot_caption</dt>
<dd><p>Caption for the plot. Set to "auto" to automatically
generate the caption Set to "none" for no caption. Anything else inside
quotes will be used as the plot caption.</p></dd>


<dt>x_label</dt>
<dd><p>Label for the x-axis. Set to "auto" to automatically generate
the label from the data. Set to "none" for no label. Anything else inside
quotes will be used as the x-axis label.</p></dd>


<dt>y_label</dt>
<dd><p>Label for the y-axis. Set to "auto" to automatically generate
the label from the data. Set to "none" for no label. Anything else inside
quotes will be used as the y-axis label.</p></dd>


<dt>legend_position</dt>
<dd><p>The position of legends ("none", "left", "right",
"bottom", "top", or two-element numeric vector).</p></dd>


<dt>num_legend_rows</dt>
<dd><p>The maximum number of rows in the legend.</p></dd>


<dt>log_scale_x</dt>
<dd><p>Logical - whether to plot the x-axis on a log scale.</p></dd>


<dt>log_scale_y</dt>
<dd><p>Logical - whether to plot the y-axis on a log scale.</p></dd>


<dt>flip_axes</dt>
<dd><p>Logical of whether to swap the x and y axes. This is
typically used when this function is called by <a href="plot_profile_verif.html">plot_profile_verif</a>.</p></dd>


<dt>colour_theme</dt>
<dd><p>The colour theme for the plot - can be any ggplot2 theme
(see theme_grey), or "theme_harp_grey",
"theme_harp_midnight", or "theme_harp_black".</p></dd>


<dt>base_size</dt>
<dd><p>base font size.</p></dd>


<dt>base_family</dt>
<dd><p>base font family.</p></dd>


<dt>base_line_size</dt>
<dd><p>base size for line elements.</p></dd>


<dt>base_rect_size</dt>
<dd><p>base size for rect elements.</p></dd>


<dt>...</dt>
<dd><p>Arguments to <a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a> e.g. group = ...</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A plot. Can be saved with <a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">plot_point_verif</span><span class="op">(</span><span class="va">verif_data_ens</span>, <span class="va">crps</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_point_verif</span><span class="op">(</span><span class="va">verif_data_ens</span>, <span class="va">spread_skill</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_point_verif-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">plot_point_verif</span><span class="op">(</span><span class="va">verif_data_det</span>, <span class="va">equitable_threat_score</span>, facet_by <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">threshold</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>plot_num_cases = TRUE cannot be used with facet_by. plot_num_cases set to FALSE.</span>
<span class="r-plt img"><img src="plot_point_verif-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">plot_point_verif</span><span class="op">(</span><span class="va">verif_data_ens</span>, <span class="va">reliability</span>, filter_by <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">lead_time</span> <span class="op">==</span> <span class="fl">12</span>, <span class="va">threshold</span> <span class="op">==</span> <span class="fl">16</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_point_verif-3.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Andrew Singleton.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

